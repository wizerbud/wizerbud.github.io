<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/4.6.0/lumen/bootstrap.min.css" integrity="sha512-k7f744z7yElaeTu/FuqJGQ9G3YJ2VVN7r00mkreJCg7t0mera+rLuCd+uBuarIdTNfrI8xq/fFE9mOIbG9jeXA==" crossorigin="anonymous" />
    <title>Insta activate</title>

</head>
<body>
    <div class="container" style="margin-top: 200px;">
        <div class="row justify-content-center">
            <div class="col-6">
                <div id="content">
                    <p><a class="btn btn-info btn-lg btn-block" href="https://api.instagram.com/oauth/authorize?client_id=454275295765222&redirect_uri=https://wizerbud.github.io/&scope=user_profile,user_media&response_type=code">Нажми на меня</a></p>
                </div>

                <div id="result" class="d-none">
                    <h2>Скопируй содержимое серой рамочки...</h2>
                    <p class="message alert alert-secondary"></p>
                    <p><a class="btn btn-info btn-lg btn-block" href="/">Назад</a></p>
                </div>
            </div>
        </div>
    </div>



    <script>
        const url = new URL(document.location.href);
        const result = document.getElementById('result'); 
        const message = document.querySelector('.message');
        const content = document.getElementById('content'); 

        if(url.searchParams.has('code')) {
            const code = url.searchParams.get('code');
            result.classList.toggle('d-none')
            content.classList.toggle('d-none')
            message.innerText = code;
        }
    </script>
</body>
</html>
